---
sidebar_position: 5
---

# 物品包

## 路径

所有物品包配置文件应存放于`plugins/PoemSuits/ItemPacks`文件夹

重复 ID 的物品包仍然会被加载，但可能互相覆盖

最后哪个物品包活下来。。。随缘了属于是

## 格式

```yaml
物品包ID:
  # 类似物品lore, 物品包的Items可以通过换行符"\n"换行
  Items:
  - 物品ID 随机最低数量-随机最高数量 生成概率 是否重复随机 指向数据
  MinItems: 最小掉落条目
  MaxItems: 最大掉落条目
  FancyDrop:
    offset:
      x: 横向偏移
      y: 纵向偏移
    angle:
      type: 旋转方式
  globalsections:
  - 引用的全局节点ID或者引用的全局节点文件路径
  sections:
  在此处声明私有节点, 就像物品配置一样
```

`物品ID` 可以是NI物品ID或者MM物品ID、EasyItem物品ID，优先检测NI物品

`随机最低数量-随机最高数量` 也可以直接写数量, 比如你可以写1-2, 代表掉落1-2个, 也可以写1, 代表掉落1个

`生成概率` 不写的话默认为1

`是否重复随机` 默认重复随机(对于MM物品、EasyItem物品, 这个配置项不代表是否随机生成, 代表物品是否合并)

`指向数据` 想写的话正常写就行

`最小掉落条目` 比如Items一共有5行, MinItems设置为1, 那么最少有1行Items中的物品成功生成, 物品的数量取决于Items中配置的数量, 与MinItems无关. MinItems小于等于0时不生效, 大于Items长度时等同于生成每一行中的物品

`最大掉落条目` 比如Items一共有5行, MaxItems设置为3, 那么最多有3行Items中的物品成功生成, 物品的数量取决于Items中配置的数量, 与MaxItems无关. MaxItems小于等于0时等同于不进行物品生成, 大于等于Items长度时等同于不配置MaxItems, 优先级大于MinItems(例如, MinItems配置为3, MaxItems配置为1, 最终掉落一行Items中的物品)

`横向偏移` 表示物品向四周弹射的力度, 是一个数字

`纵向偏移` 表示物品向空中弹射的力度, 是一个数字

`旋转方式` 决定物品的弹射角度，是一个个绕一圈弹出去，还是随机弹出去(分为random和round)

同时可以像物品配置一样引用全局节点、声明私有节点、调用私有节点

但只有Items会应用节点配置, FancyDrop不会

以默认配置为例

```yaml
Example1:
  Items:
    # 支持解析即时声明节点
    # [物品ID] (数量(或随机最小数量-随机最大数量)) (生成概率) (是否反复随机) (指向数据)
    - ExampleItem 1-5 0.5
    - test
  FancyDrop:
    # 偏移量
    offset:
      # 横向偏移量(或随机最小偏移量-随机最大偏移量)
      x: 0.1
      # 纵向偏移量(或随机最小偏移量-随机最大偏移量)
      y: 0.8
    angle:
      # 抛射类型(round/random)
      type: round
Example2:
  Items:
    - <test>
  FancyDrop:
    offset:
      x: 0.1
      y: 0.8
    angle:
      type: round
  # 引用的全局节点
  globalsections:
    # 这种直接填写文件名的方式可以直接调用文件内的全部全局节点
    # - ExampleSection.yml
    - global-strings-1
    - global-number-1
  # 物品私有节点
  sections:
    test:
      type: strings
      values:
        - ExampleItem 5 1
        - ExampleItem 10 1
```

## 给予物品包/掉落物品包

给予物品包指令

[givePack(点击查看)](指令/物品获取.md#givepack)

掉落物品包指令

[dropPack(点击查看)](指令/物品掉落.md#droppack)

## 提示信息

默认配置中玩家收到物品包会提示"收到XXX物品包", 但你可以通过更改config.yml中的配置, 让玩家收到"收到XXX物品"的提示

配置如下:

```yaml
Messages:
  # 一些消息的提示类型
  type:
    # Pack/Items
    # 给予物品包是发送物品包提示还是发送所有物品提示
    givePackMessage: Pack
```
