---
sidebar_position: 1
---

# 更新记录
2023.8.13：V1.15.8
* 修复对引用类的错误使用

2023.8.13：V1.15.7
* 修复MM死亡时获取不到击杀者导致报错的问题

2023.8.13：V1.15.6
* 修复1.17+获取物品NBT失败的问题

2023.8.11：V1.15.5
* 修复givePack指令Items提示模式下数量显示错误的问题
* 修改ItemAction默认导入的NBT类型
* 修复单独重载items模块时Expansions注册的自定义节点失效的问题
* 优化CompiledScript的File参数构造函数
* 优化WeightDeclare节点实现，并添加注释
* 使用CallSiteNbt重构过期物品检查及物品更新实现逻辑
* 使用CallSiteNbt重构物品自定义耐久实现逻辑
* 使用CallSiteNbt重构物品生成时的NBT添加实现逻辑
* 将ItemInfo内置NBT修改为NbtCompound
* 使用CallSiteNbt重构物品节点解析实现逻辑
* 使用CallSiteNbt重构NBT序列化实现逻辑
* 使用CallSiteNbt重构物品保存实现逻辑
* 使用CallSiteNbt重构兼容物品使用次数的物品消耗实现逻辑

2023.8.9：V1.15.4
* 修复1.12.2加载失败的问题

2023.8.8：V1.15.3
* 通过黑魔法启用了CallSIteNbt
* 检测存在对应的配置文件夹时不生成默认配置

2023.8.4：V1.15.2
* 新增一个有关物品更新的事件
* 更改asahi计算库所在位置
* 现在物品配置、物品动作配置、全局节点配置仅尝试读取.yml后缀文件，扩展仅尝试读取.js后缀文件
* 现在check节点中的基础动作可以通过`<value>`调用待检测value了
* weightjoin和weightdeclare节点新增order配置项，开启后内容将按列表顺序输出
* 优化有关check节点的默认配置，使之更易理解
* 优化嵌套读取api，现在获取null时返回原文，不会丢失头标和尾标
* 为MythicMobs添加了一种类似渔获掉落物的物品掉落方式，但配置结构仍在优化，后续可能修改配置方式
* shadow了nbt库callsite-nbt，但由于与tlib的兼容问题，尚未真正开始使用

2023.8.1：V1.15.1
* 物品更新中的refresh和rebuild配置项支持解析物品配置中的新节点

2023.7.31：V1.15.0
* 添加setPotionEffect和removePotionEffect动作
* 添加hand()、isMainHand()、isOffHand()条件
* 添加用于对物品节点和物品NBT进行检测、获取、匹配、处理的各种PAPI变量

2023.7.25：V1.14.27
* 扩展打包增加打包额外文件功能
* 扩展加载检测文件后缀（仅加载.js文件）
* 添加一处有关配置文件保存的API
* 添加一处有关读取Reader的API
* 优化有关文本嵌套识别的API

2023.7.24：V1.14.26
* 优化一处有关动作类型的判断

2023.7.24：V1.14.25 
* 修复PlayerUtils.giveItems在某些特殊情况下有可能吞物品的问题

2023.7.23：V1.14.24 
* 物品更新添加refresh和rebuild配置项

2023.7.20：V1.14.23 
* 为number/gaussian/calculation/fastcalc节点添加取整模式选择功能，添加/ni parse指令

2023.7.19：V1.14.22 
* 修复1.12.2有时无法挂钩PAPI的问题

2023.7.19：V1.14.21 
* 为物品动作中的物品消耗添加pre配置项

2023.7.4：V1.14.20 
* 添加一个有关物品重构的API

2023.7.3：V1.14.19 
* 添加一些有关物品重构、条件判断和设置NBT的API

2023.7.3：V1.14.18 
* 更改一些不合理的api

2023.7.1：V1.14.17 
* 物品动作添加循环模式

2023.6.30：V1.14.16 
* 更新tlib版本

2023.6.29：V1.14.15 
* 添加一处有关扣除自定义物品耐久的api

2023.6.21：V1.14.12 
* MM穿戴、掉落支持调用:

  * 怪物最大生命值

  * MythicMobs怪物ID

  * MythicMobs怪物等级

  * 怪物X坐标

  * 怪物Y坐标

  * 怪物Z坐标

  * 怪物视线偏航角度

  * 怪物视线俯仰角度

  * 怪物所处世界名称

  * 怪物名称

  * 怪物显示在头上的自定义名称(有时会与mobName不同)

2023.6.20：V1.14.11 
* 支持1.20.1，添加检测MM怪物和获取MM怪物ID的API

2023.6.17：V1.14.10
* 适配1.20
* 将某些方法的参数由HashMap改为Map
* 修复私有Gradient节点不解析参数中节点的问题
* 当使用ni mm loadAll保存物品时，如果中间某个MM物品生成错误，将提示并继续尝试保存后面的物品（先前版本中将中断保存）

2023.6.16：V1.14.9 
* 适配早期版本1.16.5

2023.6.14：V1.14.8 
* 添加是否开启物品变量功能的配置选项

2023.6.12：V1.14.7 
* 修复1.17+中Marker类型的MM怪物生成时报错的问题
